# Dear Carmate

<p align="center">
<img src="https://capsule-render.vercel.app/api?type=rect&height=200&color=ffffff&text=Dear%20Carmate%20&fontSize=100&textBg=false&descSize=20&animation=twinkling&fontAlign=50&fontColor=000000&desc=ì¤‘ê³ ì°¨%20ê³„ì•½ì˜%20ëª¨ë“ %20ê²ƒì„%20í•œ%20ê³³ì—!&descAlignY=85&descAlign=50">
<p/>

---

# Dear Carmate - team5

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ íŒ€ì›

### Team

| <img src="https://github.com/joyy303.png" width="150" height="150"/> | <img src="https://github.com/Batur-s.png" width="150" height="150"/> | <img src="https://github.com/Park-DaSeul.png" width="150" height="150"/> | <img src="https://github.com/NewL1f3.png" width="150" height="150"/> | <img src="https://github.com/proteiin.png" width="150" height="150"/> | <img src="https://github.com/winnie4869.png" width="150" height="150"/> |
| :------------------------------------------------------------------: | :------------------------------------------------------------------: | :----------------------------------------------------------------------: | :------------------------------------------------------------------: | :-------------------------------------------------------------------: | :---------------------------------------------------------------------: |
|         ìµœì€ì˜<br>[@joyy303](https://github.com/Park-DaSeul)         |           ì‹ ê²½ë ¬<br>[@Batur-s](https://github.com/Batur-s)           |         ë°•ë‹¤ìŠ¬<br>[@Park-DaSeul](https://github.com/Park-DaSeul)         |          ì´ìƒìš±<br>[@NewL1f3](https://github.com/GithubID4)          |          ì†ì¤€ì˜<br>[@proteiin](https://github.com/GithubID5)          |          ì´í•˜ì˜<br>[@winnie4869](https://github.com/GithubID6)          |
|                             ê¸°íš, ë°±ì—”ë“œ                             |                             ê¸°íš, ë°±ì—”ë“œ                             |                               ê¸°íš, ë°±ì—”ë“œ                               |                             ê¸°íš, ë°±ì—”ë“œ                             |                             ê¸°íš, ë°±ì—”ë“œ                              |                              ê¸°íš, ë°±ì—”ë“œ                               |

## 1. í”„ë¡œì íŠ¸ ì†Œê°œ

- Dear CarmateëŠ” ì¤‘ê³ ì°¨ ë”œëŸ¬ë“¤ì˜ íš¨ìœ¨ì ì¸ ê³ ê° ë° ì°¨ëŸ‰ ê´€ë¦¬ë¥¼ ë•ëŠ” CRM ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
- í”„ë¡œì íŠ¸ ê¸°ê°„ : 2025.09.30 ~ 2025.10.28

## 2. ì£¼ìš” ê¸°ëŠ¥

- **ê³ ê° ê´€ë¦¬**: ì‹ ê·œ ê³ ê° ë“±ë¡, ì •ë³´ ìˆ˜ì •, ì‚­ì œ ë° ê³„ì•½ ì´ë ¥ ì¡°íšŒë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì°¨ëŸ‰ ê´€ë¦¬**: íŒë§¤ ì°¨ëŸ‰ ë“±ë¡, ì •ë³´ ìˆ˜ì •, ì‚­ì œ ë° ìƒíƒœ(ë³´ìœ , ê³„ì•½ ì§„í–‰, ê³„ì•½ ì™„ë£Œ) ë³€ê²½ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- **ê³„ì•½ ê´€ë¦¬**: ê³ ê°ê³¼ ì°¨ëŸ‰ì„ ì—°ê²°í•˜ì—¬ ê³„ì•½ì„ ìƒì„±í•˜ê³ , ê³„ì•½ ì§„í–‰ ìƒíƒœ(ì°¨ëŸ‰ í™•ì¸, ê°€ê²© í˜‘ì˜, ê³„ì•½ì„œ ì‘ì„± ì¤‘, ê³„ì•½ ì„±ê³µ, ê³„ì•½ ì‹¤íŒ¨)ë¥¼ ì¶”ì í•©ë‹ˆë‹¤.
- **ë¬¸ì„œ ê´€ë¦¬**: ê³„ì•½ ê´€ë ¨ ë¬¸ì„œë¥¼ ì—…ë¡œë“œ ë° ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìœ¼ë©°, ê³„ì•½ì„œë¥¼ ì—…ë¡œë“œí•˜ë©´ ê³ ê°ì—ê²Œ ì´ë©”ì¼ë¡œ ìë™ ë°œì†¡ë©ë‹ˆë‹¤.
- **ëŒ€ì‹œë³´ë“œ**: ì›”ë³„ ê³„ì•½ ìˆ˜, ì°¨ëŸ‰ íŒë§¤ í˜„í™© ë“± ì£¼ìš” ì§€í‘œë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‚¬ìš©ì ê´€ë¦¬**: ê´€ë¦¬ì(admin)ì™€ ì¼ë°˜ ì‚¬ìš©ì(user) ê¶Œí•œì„ ë¶„ë¦¬í•˜ì—¬ íšŒì‚¬ë³„ë¡œ ì‚¬ìš©ìë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- **ëŒ€ìš©ëŸ‰ ì—…ë¡œë“œ**: ê³ ê° ë° ì°¨ëŸ‰ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ í•œ ë²ˆì— ì—…ë¡œë“œí•  ìˆ˜ ìˆì–´ ëŒ€ëŸ‰ ë°ì´í„° ë“±ë¡ì´ ìš©ì´í•©ë‹ˆë‹¤.

## 3. ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Node.js, Express, TypeScript
- **Database**: PostgreSQL, Prisma (ORM)
- **Authentication**: JWT (Access Token, Refresh Token)
- **File Handling**: Cloudinary, Busboy
- **Validation**: Zod
- **Scheduling**: node-cron
- **Email**: SendGrid
- **Environment Variables**: dotenv

## 4. íŒ€ì›ë³„ êµ¬í˜„ ê¸°ëŠ¥ ìƒì„¸

### ìµœì€ì˜

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

</details>

### ì‹ ê²½ë ¬

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

</details>

### ë°•ë‹¤ìŠ¬

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

- **ê³„ì•½ì„œ ì—…ë¡œë“œ API**
  - ê³„ì•½ì„œ ëª©ë¡, ìƒì„¸ ì¡°íšŒ ê¸°ëŠ¥ êµ¬í˜„
  - ê³„ì•½ì„œ ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
  - ê³„ì•½ì„œ ì—…ë¡œë“œ ì‹œ ê³ ê° emailë¡œ ê³„ì•½ì„œ ìë™ ë°œì†¡ ê¸°ëŠ¥ êµ¬í˜„
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ API**
  - ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€ ê¸°ëŠ¥ êµ¬í˜„
- **ë¯¸ë“¤ì›¨ì–´ ì‘ì„±**
  - error-handler.ts â†’ ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì‘ì„± ë° ê° ë¼ìš°í„° ì ìš©
  - async-handler.ts â†’ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë˜í¼ í•¨ìˆ˜ êµ¬í˜„
  - cloudinary-upload-middleware.ts â†’ Cloudinaryë¥¼ í†µí•œ ì´ë¯¸ì§€ ë° ë¬¸ì„œ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
  - validate-middleware.ts â†’ Zodë¥¼ í™œìš©í•œ ìš”ì²­ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ êµ¬í˜„
- **lib í•¨ìˆ˜ ì‘ì„±**
  - cron-jobs.ts â†’ ì—…ë¡œë“œëœ ë¬¸ì„œ ë° ì´ë¯¸ì§€ ì¤‘ ë”ë¯¸ íŒŒì¼ì„ ì •ê¸°ì ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ êµ¬í˜„
  - email-service.ts â†’ SendGrid ê¸°ë°˜ì˜ ì´ë©”ì¼ ë°œì†¡ ì„œë¹„ìŠ¤ ìœ í‹¸ í•¨ìˆ˜ êµ¬í˜„
- **DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„**
  - íŒ€ì›ë“¤ê³¼ ê³µë™ ì‘ì—…
  - ê³„ì•½ì„œ í…Œì´ë¸” ì„¤ê³„
- **í”„ë¡œì íŠ¸ ì•ˆì •í™” ë° ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
  - k6ë¥¼ ì´ìš©í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì§„í–‰
  - Render ë¬´ë£Œ í”Œëœ í™˜ê²½ì—ì„œ VU 15ëª… ê¸°ì¤€, p(95) = 452.74ms, ì—ëŸ¬ìœ¨ 0% ê²°ê³¼ í™•ì¸
- **í”„ë¡œì íŠ¸ ë°°í¬**
  - ë°°í¬ìš© ë¸Œëœì¹˜ ê´€ë¦¬ ë° ë°°í¬ ìë™í™” í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•
  - Render(ë°±ì—”ë“œ ë° ë°ì´í„°ë² ì´ìŠ¤), Vercel(í”„ë¡ íŠ¸ì—”ë“œ)ë¡œ ë°°í¬ ì§„í–‰

  ![k6 í…ŒìŠ¤íŠ¸ ê²°ê³¼](https://github.com/user-attachments/assets/43d4eb89-ee8c-4274-bdfa-862c2db2484b)

</details>

### ì´ìƒìš±

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

</details>

### ì†ì¤€ì˜

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

</details>

### ì´í•˜ì˜

<details>
<summary>êµ¬í˜„ ë‚´ìš© ì •ë¦¬</summary>

<br> <br/>

</details>

## 5. ì‹œì‘í•˜ê¸°

### 5.1. ì„¤ì¹˜

1.  ì €ì¥ì†Œë¥¼ í´ë¡ í•©ë‹ˆë‹¤.
    ```bash
    git clone https://github.com/your-repository/nb4-Dear_Carmate-team5.git
    ```
2.  í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•©ë‹ˆë‹¤.
    ```bash
    cd nb4-Dear_Carmate-team5
    ```
3.  ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
    ```bash
    npm install
    ```

### 5.2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.sample` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³ , ì•„ë˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```
DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DATABASE"

# JWT
ACCESS_TOKEN_SECRET="your_access_token_secret"
REFRESH_TOKEN_SECRET="your_refresh_token_secret"

# Cloudinary
CLOUDINARY_CLOUD_NAME="your_cloudinary_cloud_name"
CLOUDINARY_API_KEY="your_cloudinary_api_key"
CLOUDINARY_API_SECRET="your_cloudinary_api_secret"

# SendGrid
SENDGRID_API_KEY="your_sendgrid_api_key"
SENDGRID_SENDER_EMAIL="your_sender_email"

# CORS
CORS_ORIGIN="http://localhost:3000"

# PORT
PORT=3001
```

### 5.3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

Prismaë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜í•©ë‹ˆë‹¤.

```bash
npx prisma migrate dev
```

### 5.4. ì‹¤í–‰

ê°œë°œ ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.

```bash
npm run dev
```

## 6. í´ë” êµ¬ì¡°

```
nb4-Dear_Carmate-team5/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.ts
â”‚   â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ cars/
â”‚   â”‚   â”œâ”€â”€ company/
â”‚   â”‚   â”œâ”€â”€ contract-documents/
â”‚   â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ customers/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ user/
â”‚   â”œâ”€â”€ types/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ .env.sample
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## 7. API ì—”ë“œí¬ì¸íŠ¸

### Auth

- `POST /auth/login`: ë¡œê·¸ì¸
- `POST /auth/refresh`: Access Token ì¬ë°œê¸‰

### User

- `POST /users`: ì‹ ê·œ ì§ì›(ì‚¬ìš©ì) ë“±ë¡ (ê´€ë¦¬ììš©)
- `GET /users/me`: ë‚´ ì •ë³´ ì¡°íšŒ
- `PATCH /users/me`: ë‚´ ì •ë³´ ìˆ˜ì •
- `DELETE /users/me`: íšŒì› íƒˆí‡´
- `DELETE /users/:userId`: íŠ¹ì • ì‚¬ìš©ì ì‚­ì œ (ê´€ë¦¬ììš©)

### Company

- `POST /companies`: íšŒì‚¬ ë° ê´€ë¦¬ì ê³„ì • ìƒì„± (íšŒì›ê°€ì…)
- `GET /companies`: íšŒì‚¬ ëª©ë¡ ì¡°íšŒ
- `GET /companies/users`: ì†Œì† ì§ì› ëª©ë¡ ì¡°íšŒ
- `PATCH /companies/:companyId`: íšŒì‚¬ ì •ë³´ ìˆ˜ì •
- `DELETE /companies/:companyId`: íšŒì‚¬ ì‚­ì œ

### Customer

- `POST /customers`: ì‹ ê·œ ê³ ê° ì¶”ê°€
- `GET /customers`: ê³ ê° ëª©ë¡ ì¡°íšŒ
- `GET /customers/:customerId`: íŠ¹ì • ê³ ê° ìƒì„¸ ì¡°íšŒ
- `PATCH /customers/:customerId`: ê³ ê° ì •ë³´ ìˆ˜ì •
- `DELETE /customers/:customerId`: ê³ ê° ì •ë³´ ì‚­ì œ
- `POST /customers/upload`: CSV íŒŒì¼ë¡œ ê³ ê° ëŒ€ëŸ‰ ë“±ë¡

### Car

- `POST /cars`: ì‹ ê·œ ì°¨ëŸ‰ ì¶”ê°€
- `GET /cars`: ì°¨ëŸ‰ ëª©ë¡ ì¡°íšŒ
- `GET /cars/models`: ì°¨ëŸ‰ ëª¨ë¸ ëª©ë¡ ì¡°íšŒ
- `GET /cars/:carId`: íŠ¹ì • ì°¨ëŸ‰ ìƒì„¸ ì¡°íšŒ
- `PATCH /cars/:carId`: ì°¨ëŸ‰ ì •ë³´ ìˆ˜ì •
- `DELETE /cars/:carId`: ì°¨ëŸ‰ ì •ë³´ ì‚­ì œ
- `POST /cars/upload`: CSV íŒŒì¼ë¡œ ì°¨ëŸ‰ ëŒ€ëŸ‰ ë“±ë¡

### Contract

- `POST /contracts`: ì‹ ê·œ ê³„ì•½ ìƒì„±
- `GET /contracts`: ê³„ì•½ ëª©ë¡ ì¡°íšŒ
- `PATCH /contracts/:id`: ê³„ì•½ ì •ë³´ ìˆ˜ì •
- `DELETE /contracts/:id`: ê³„ì•½ ì‚­ì œ
- `GET /contracts/cars`: ê³„ì•½ ìƒì„±ì„ ìœ„í•œ ì°¨ëŸ‰ ì •ë³´ ì¡°íšŒ
- `GET /contracts/customers`: ê³„ì•½ ìƒê°ì„ ìœ„í•œ ê³ ê° ì •ë³´ ì¡°íšŒ
- `GET /contracts/users`: ê³„ì•½ ìƒì„±ì„ ìœ„í•œ ì§ì› ì •ë³´ ì¡°íšŒ

### Contract Document

- `POST /contractDocuments/upload`: ê³„ì•½ ë¬¸ì„œ ì—…ë¡œë“œ
- `GET /contractDocuments`: ê³„ì•½ ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ
- `GET /contractDocuments/draft`: ë¬¸ì„œ ì¶”ê°€ë¥¼ ìœ„í•œ ê³„ì•½ ëª©ë¡ ì¡°íšŒ
- `GET /contractDocuments/:id/download`: ê³„ì•½ ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ

### Image

- `POST /images/upload`: ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ

### Dashboard

- `GET /dashboard`: ëŒ€ì‹œë³´ë“œ ë°ì´í„° ì¡°íšŒ

## 8. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

- **Company**: íšŒì‚¬ ì •ë³´
- **User**: ì‚¬ìš©ì(ì§ì›) ì •ë³´
- **Customer**: ê³ ê° ì •ë³´
- **Manufacturer**: ìë™ì°¨ ì œì¡°ì‚¬
- **Model**: ìë™ì°¨ ëª¨ë¸
- **Car**: ì°¨ëŸ‰ ì •ë³´
- **Contract**: ê³„ì•½ ì •ë³´
- **Meeting**: ë¯¸íŒ… ì •ë³´
- **ContractDocument**: ê³„ì•½ ë¬¸ì„œ ì •ë³´
- **Image**: ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€ ì •ë³´

## 9. ì£¼ìš” ìŠ¤í¬ë¦½íŠ¸

- `npm run dev`: ê°œë°œ ì„œë²„ ì‹¤í–‰ (ts-node)
- `npm run build`: TypeScript ì»´íŒŒì¼
- `npm run start`: ì»´íŒŒì¼ëœ JavaScript íŒŒì¼ë¡œ ì„œë²„ ì‹¤í–‰
- `npm run format`: Prettierë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ í¬ë§·íŒ…
- `npx prisma migrate dev`: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
- `npx prisma studio`: Prisma Studio ì‹¤í–‰
- `npx prisma db seed`: Seed ë°ì´í„° ì¶”ê°€

## 10. ë°°í¬ í™ˆí˜ì´ì§€

https://nb04-dear-carmate-team5-front.vercel.app/
